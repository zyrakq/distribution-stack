# Generated by stackbuilder from concatenated .env.example files
# Source files: base/.env.example, letsencrypt/.env.example

# === BASE CONFIGURATION ===
# Project name for Docker Compose
COMPOSE_PROJECT_NAME=distribution

IMAGE=distribution/distribution:latest
# IMAGE=distribution/distribution:2.8.3
# IMAGE=localhost/distribution:2.8.3
CONFIG_DIR=/configs
CONFIG_FILE=/etc/distribution/config.yml

DISTRIBUTION_BASE_CONF_PATH=/configs/base-conf.yaml
REGISTRY_LOG_ACCESSLOG_DISABLED=false
REGISTRY_LOG_LEVEL=warn
REGISTRY_LOG_FORMATTER=json
REGISTRY_LOG_FIELDS_SERVICE=distribution
REGISTRY_LOG_FIELDS_ENVIRONMENT=production
REGISTRY_STORAGE_DELETE_ENABLED=true
REGISTRY_STORAGE_CACHE_BLOBDESCRIPTOR=inmemory
REGISTRY_STORAGE_MAINTENANCE_UPLOADPURGING_ENABLED=false
# === LETSENCRYPT CONFIGURATION ===
# Nginx proxy configuration
VIRTUAL_PORT=5000
VIRTUAL_HOST=distribution.example.com
VIRTUAL_PROTO=https

# Let's Encrypt SSL configuration
LETSENCRYPT_HOST=distribution.example.com
LETSENCRYPT_EMAIL=john.smith@mail.com

# Certificate configuration
REGISTRY_HTTP_TLS_CERTIFICATE=/certs/distribution.example.com.crt
REGISTRY_HTTP_TLS_KEY=/certs/distribution.example.com.key

DISTRIBUTION_VHOST_PATH=/vhost.d/distribution.example.com